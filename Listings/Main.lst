C51 COMPILER V9.60.7.0   MAIN                                                              09/08/2023 16:14:34 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\Main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\Main
                    -.lst) TABS(2) OBJECT(.\Objects\Main.obj)

line level    source

   1          #include <at89x52.h>
   2          #include <string.h>
   3          #include <math.h>
   4          
   5          #define CS      P1_0
   6          #define CLK     P1_1
   7          #define DO      P1_2
   8          #define LCD     P2
   9          #define EN      P3_6
  10          #define RS      P3_7
  11          #define PI      3.14159265359
  12          
  13          void delay_us(int us);
  14          void delay_ms(int ms);
  15          
  16          void main(void)
  17          {
  18   1        
  19   1        int sinal = 1;
  20   1        unsigned char VD = 0;
  21   1        float VA = 0;
  22   1        float out = 0;
  23   1        int tmp = 1;
  24   1        int delay = 0;
  25   1        int tensao = 0;
  26   1        CS = 1;
  27   1        
  28   1        delay = 10; //ms
  29   1        tensao = 1;
  30   1        
  31   1        while(1){
  32   2          
  33   2            LCD = tmp;
  34   2            if(tmp > 50){
  35   3              sinal = sinal * (-1);
  36   3              tmp = 50;
  37   3            }else if(tmp < 1){
  38   3              sinal = sinal * (-1);
  39   3              tmp = 1;
  40   3            }
  41   2            tmp = tmp + (1 * sinal);
  42   2            delay_us(100);
  43   2        }*/
*** ERROR C141 IN LINE 43 OF Main.c: syntax error near '/', expected 'sizeof'
  44   1            
  45   1        while(1){
  46   2          
  47   2          
  48   2          }
  49   1          LCD = 0;
  50   1          delay_us(500);
  51   1          LCD = 10;
  52   1          delay_us(500);
  53   1          LCD = 20;
C51 COMPILER V9.60.7.0   MAIN                                                              09/08/2023 16:14:34 PAGE 2   

  54   1          delay_us(500);
  55   1          LCD = 30;
  56   1          delay_us(500);
  57   1          LCD = 40;
  58   1          delay_us(500);
  59   1          LCD = 50;
  60   1          delay_us(500);
  61   1          LCD = 60;
  62   1          delay_us(500);
  63   1          LCD = 70;
  64   1          delay_us(500);
  65   1      
  66   1        }*/
*** ERROR C141 IN LINE 66 OF Main.c: syntax error near '/', expected 'hdata'
  67            /*
  68            while(1){
  69              
  70              //out = sin(2*PI*60*tmp*delay/1000);
  71              //LCD = (unsigned char)(127 + 127*out);
  72              LCD = (unsigned char) tensao;
  73              tensao = tensao + (1*sinal);
  74              //tmp = tmp+1;
  75              delay_us((delay*1000)/500);
  76              
  77              // Período
  78              if(tensao > 254 || tensao < 1){
  79                sinal = sinal * (-1);
  80              }
  81            }*/
  82          }
  83          
  84          
  85          
  86          
  87          void delay_us(int us)
  88          {
  89   1        int i;
  90   1        for(i = 0; i < us; i++){}
  91   1      }
  92          
  93          void delay_ms(int ms){
  94   1        TMOD |= 0x01;
  95   1        
  96   1        while(ms){
  97   2          TL0 = 0x65;
  98   2          TH0 = 0xFC;
  99   2          TR0 = 1;
 100   2          while(!TF0);
 101   2          TF0 = 0;
 102   2          TR0 = 0;
 103   2          ms--;
 104   2        }
 105   1      }

C51 COMPILATION COMPLETE.  0 WARNING(S),  2 ERROR(S)
